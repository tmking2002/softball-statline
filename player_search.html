<!DOCTYPE html>
<html>
<head>
    <title>Softball Statline - Players</title>
    <link rel="icon" type = image/png href="logo_small.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Get comprehensive game stats for NCAA Softball D1, D2, and D3. Analyze player performances and team statistics with Softball Statline.">
    <meta name="keywords" content="NCAA Softball, Softball Stats, D1, D2, D3, College Softball, Softball Game Statistics, Player Performance Metrics, Softball Teams, Softball Scores, Softball Analysis, Softball Highlights, NCAA Softball Rankings, Softball Records, Softball Season, Softball Standings">

    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-teal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
    
    <style>

        @media screen and (max-width: 768px) {
            .w3-hide-medium,
            .w3-hide-large {
            display: block !important;
            }
            .w3-bar-item {
            text-align: center;
            }
            .w3-dropdown-content {
            position: relative !important;
           }
        }   

        .search-container {
        display: flex;
        justify-content: center; /* Horizontally center the input */
        margin-top: 10px;
        margin-bottom: 10px;
        }

        #searchInput {
        width: 300px;
        padding: 8px;
        font-size: 16px;
        border: 1px solid #ccc;
        border-radius: 4px;
        }

        .player-container {
        max-width: 600px;
        padding-left: 100px;
        padding-right: 100px;
        margin: 0 auto; /* Center the player list container */
        }

        #playerListD1 {
        list-style-type: none;
        padding: 0;
        margin: 0;
        }

        #playerListD1 li {
        margin-bottom: 5px;
        background-color: #f7f7f7;
        padding: 10px;
        border-radius: 4px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        #playerListD1 li:hover {
        background-color: #e0e0e0;
        }

        #playerListD2 {
        list-style-type: none;
        padding: 0;
        margin: 0;
        }

        #playerListD2 li {
        margin-bottom: 5px;
        background-color: #f7f7f7;
        padding: 10px;
        border-radius: 4px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        #playerListD2 li:hover {
        background-color: #e0e0e0;
        }

        #playerListD3 {
        list-style-type: none;
        padding: 0;
        margin: 0;
        }

        #playerListD3 li {
        margin-bottom: 5px;
        background-color: #f7f7f7;
        padding: 10px;
        border-radius: 4px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        #playerListD3 li:hover {
        background-color: #e0e0e0;
        }
    </style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YFFKCYZJXV"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-YFFKCYZJXV');
    </script>

    </head>
    <body>
        
        <div class="w3-top">
            <div class="w3-bar w3-top w3-center-align w3-large">
                <div class="w3-dropdown-hover w3-hide-medium w3-hide-large" style="display: inline-block; ">
                    <button class="w3-button w3-padding-16" style="background-color: #E15241; color: white;">
                           Menu<i class="fa fa-caret-down"></i>
                        </button>
                        <div class="w3-dropdown-content w3-bar-block" style="background-color: #E15241; z-index: 2;">
                            <button class="w3-bar-item w3-button testbtn w3-padding-16" style="background-color: #E15241; color: white;" onclick="window.location.href='../'">Home</button>
                            <button class="w3-bar-item w3-button testbtn w3-padding-16" style="background-color: #E15241; color: white;" onclick="window.location.href=''">Players</button>
                            <button class="w3-bar-item w3-button testbtn w3-padding-16" style="background-color: #E15241; color: white;" onclick="window.location.href='team_search'">Teams</button>
                            <button class="w3-bar-item w3-button testbtn w3-padding-16" style="background-color: #E15241; color: white;" onclick="window.location.href='coach_search'">Coaches</button>
                            <button class="w3-bar-item w3-button testbtn w3-padding-16" style="background-color: #E15241; color: white;" onclick="window.location.href='leaders_search'">Leaders</button>
                            <button class="w3-bar-item w3-button testbtn w3-padding-16" style="background-color: #E15241; color: white;" onclick="window.location.href='rankings/rankings_d1'">Rankings</button>
                        </div>
                      </div>
                  </div>
                <div class="w3-bar w3-top w3-left-align w3-large" style="display: flex; flex-direction: column; max-width: 15%;">
                    <a href="../" class="w3-bar-item w3-button w3-hide-small w3-hover-white" style="background-color: #404040; color: white;">Home</a>
                    <a href="" class="w3-bar-item w3-button w3-hide-small w3-hover-white" style="background-color: #E15241; color: white;">Players</a>
                    <a href="team_search" class="w3-bar-item w3-button w3-hide-small w3-hover-white" style="background-color: #404040; color: white;">Teams</a>
                    <a href="coach_search" class="w3-bar-item w3-button w3-hide-small w3-hover-white" style="background-color: #404040; color: white;">Coaches</a>
                    <a href="leaders_search" class="w3-bar-item w3-button w3-hide-small w3-hover-white" style="background-color: #404040; color: white;">Leaders</a>
                    <a href="rankings/rankings_d1" class="w3-bar-item w3-button w3-hide-small w3-hover-white" style="background-color: #404040; color: white;">Rankings</a>
                </div>
              </div>
        </div>

        <!-- Header -->
        <div class="w3-center" style="position: relative; margin-top: 100px; margin-bottom: 50px"> 
            <img src="logo.png" style="max-width: 40%; height: auto; display: block; margin: 0 auto;">
          </div>

          <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search">
        </div>

          <div class="w3-third">
            <div class="player-container" style="height: 800px; overflow: auto;">
                <h3 style="text-align: center;">D-I</h3><br>
                <ul id="playerListD1"></ul>
            </div>
        </div>
        <div class="w3-third">
            <div class="player-container" style="height: 800px; overflow: auto;">
                <h3 style="text-align: center;">D-II</h3><br>
                <ul id="playerListD2"></ul>
            </div>
        </div>
        <div class="w3-third">
            <div class="player-container" style="height: 800px; overflow: auto;">
                <h3 style="text-align: center;">D-III</h3><br>
                <ul id="playerListD3"></ul>
            </div>
        </div>
        
        <script src="papaparse.min.js"></script>

        <script>
            const playerArrayD1 = [];
            const playerArrayD2 = [];
            const playerArrayD3 = [];

            function displayPlayer(playerArray, playerListId) {
                const playerList = document.getElementById(playerListId);
                playerList.innerHTML = "";

                playerArray.forEach(player => {
                    const li = document.createElement("li");
                    const link = document.createElement("a");

                    link.href = `player_info?playerID=${player.player_id}`;
                    link.textContent = `${player.player}`;

                    li.appendChild(link);
                    playerList.appendChild(li);
                });
            }

            function filterPlayer(searchTerm, playerArray, playerListId) {
                const filteredPlayer = playerArray.filter(player => {
                    return player.player.toLowerCase().includes(searchTerm.toLowerCase());
                });

                displayPlayer(filteredPlayer, playerListId);
            }

            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
                filterPlayer(searchInput.value, playerArrayD1, "playerListD1");
                filterPlayer(searchInput.value, playerArrayD2, "playerListD2");
                filterPlayer(searchInput.value, playerArrayD3, "playerListD3");
            });

            // Initial display of all player
            displayPlayer(playerArrayD1, "playerListD1");
            displayPlayer(playerArrayD2, "playerListD2");
            displayPlayer(playerArrayD3, "playerListD3");

            Papa.parse("players/data/players_d1.csv", {
                download: true,
                header: true,
                skipEmptyLines: true,
                complete: function (results) {
                    playerArrayD1.push(...results.data);
                    displayPlayer(playerArrayD1, "playerListD1");
                }
            });

            Papa.parse("players/data/players_d2.csv", {
                download: true,
                header: true,
                skipEmptyLines: true,
                complete: function (results) {
                    playerArrayD2.push(...results.data);
                    displayPlayer(playerArrayD2, "playerListD2");
                }
            });

            Papa.parse("players/data/players_d3.csv", {
                download: true,
                header: true,
                skipEmptyLines: true,
                complete: function (results) {
                    playerArrayD3.push(...results.data);
                    displayPlayer(playerArrayD3, "playerListD3");
                }
            });
        </script>
</body>
</html>
