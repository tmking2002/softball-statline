<!DOCTYPE html>
<html>
<head>
    <title>Softball Statline - Players</title>
    <link rel="icon" type = image/png href="logo_small.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Get comprehensive game stats for NCAA Softball D1, D2, and D3. Analyze player performances and team statistics with Softball Statline.">
    <meta name="keywords" content="NCAA Softball, Softball Stats, D1, D2, D3, College Softball, Softball Game Statistics, Player Performance Metrics, Softball Teams, Softball Scores, Softball Analysis, Softball Highlights, NCAA Softball Rankings, Softball Records, Softball Season, Softball Standings">

    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-teal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
    
    <style>

        @media screen and (max-width: 768px) {
            .w3-hide-medium,
            .w3-hide-large {
            display: block !important;
            }
            .w3-bar-item {
            text-align: center;
            }
            .w3-dropdown-content {
            position: relative !important;
           }
        }   

        .search-container {
        display: flex;
        justify-content: center; /* Horizontally center the input */
        margin-top: 10px;
        margin-bottom: 10px;
        }

        #searchInput {
        width: 300px;
        padding: 8px;
        font-size: 16px;
        border: 1px solid #ccc;
        border-radius: 4px;
        }

        .player-container {
        width: auto;
        padding-left: 100px;
        padding-right: 100px;
        margin: 0 auto; /* Center the player list container */
        }

        #playerList {
        list-style-type: none;
        padding: 0;
        margin: 0;
        }

        #playerList li {
        margin-bottom: 5px;
        background-color: #f7f7f7;
        padding: 10px;
        border-radius: 4px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        #playerList li:hover {
        background-color: #e0e0e0;
        }
    </style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YFFKCYZJXV"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-YFFKCYZJXV');
    </script>

    </head>
    <body>
        
        <div class="w3-top">
            <div class="w3-bar w3-theme w3-top w3-center-align w3-large">
                <div class="w3-dropdown-hover w3-hide-medium w3-hide-large" style="display: inline-block; ">
                    <button class="w3-button w3-padding-16" style="background-color: #009688; color: white;">
                       Menu<i class="fa fa-caret-down"></i>
                    </button>
                    <div class="w3-dropdown-content w3-card-4 w3-bar-block" style="background-color: #404040; z-index: 2;">
                        <button class="w3-bar-item w3-button testbtn w3-padding-16" style="background-color: #404040; color: white;" onclick="window.location.href='../'">Home</button>
                        <button class="w3-bar-item w3-button testbtn w3-padding-16" style="background-color: #404040; color: white;" onclick="window.location.href='player_search'">Players</button>
                        <button class="w3-bar-item w3-button testbtn w3-padding-16" style="background-color: #404040; color: white;" onclick="window.location.href='team_search'">Teams</button>
                        <button class="w3-bar-item w3-button testbtn w3-padding-16" style="background-color: #404040; color: white;" onclick="window.location.href='coach_search'">Coaches</button>
                        <button class="w3-bar-item w3-button testbtn w3-padding-16" style="background-color: #404040; color: white;" onclick="window.location.href='leaders_search'">Leaders</button>
                    </div>
                  </div>
              </div>
              <div class="w3-bar w3-theme w3-top w3-left-align w3-large">
                <a href="../" class="w3-bar-item w3-button w3-hide-small w3-hover-white" style="background-color: #404040;">Home</a>
                <a href="player_search" class="w3-bar-item w3-button w3-hide-small w3-hover-white" style="background-color: #009688">Players</a>
                <a href="team_search" class="w3-bar-item w3-button w3-hide-small w3-hover-white" style="background-color: #404040;">Teams</a>
                <a href="coach_search" class="w3-bar-item w3-button w3-hide-small w3-hover-white" style="background-color: #404040;">Coaches</a>
                <a href="leaders_search" class="w3-bar-item w3-button w3-hide-small w3-hover-white" style="background-color: #404040;">Leaders</a>
              </div>
            </div>
          </div>
        
        <!-- Header -->
        <header class="w3-container w3-theme w3-padding" id="myHeader">
          <div class="w3-center" style="position: relative; margin-top: 50px;"> 
            <img src="logo.png" style="max-width: 100%; height: auto; display: block; margin: 0 auto;">
          </div>
        </header>
        
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search by first or last name">
        </div>

        <div class="player-container" style="overflow: auto; height: 800px;">
            <ul id="playerList" style="text-align: center;"></ul>
        </div>
        
        <script src="papaparse.min.js"></script>

        <script>
            const playersArray = [];

            function displayPlayers(playersArray) {
                const playerList = document.getElementById("playerList");
                playerList.innerHTML = "";
                
                playersArray.forEach(player => {
                const a = document.createElement("a");
                const li = document.createElement("li");
                li.textContent = `${player.player} (${player.teams})`;
                a.href = `player_info?playerID=${player.player_id}`;
                a.appendChild(li);
                playerList.appendChild(a);
                });
            }

            function filterPlayers(searchTerm) {
                const filteredPlayers = playersArray.filter(player => {
                const fullName = `${player.first} ${player.last}`;
                return fullName.toLowerCase().includes(searchTerm.toLowerCase());
                });
                
                displayPlayers(filteredPlayers);
            }

            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => filterPlayers(searchInput.value));
            
            // Initial display of all players
            displayPlayers(playersArray);

            Papa.parse("players/data/all_players.csv", {
                download: true,
                header: true,
                skipEmptyLines: true,
                complete: function (results) {
                    playersArray.push(...results.data);
                    displayPlayers(playersArray);
                }
            });
        </script>

    <!-- Add some CSS styles for the suggestions container -->
    <style>
        #suggestions-container {
            border: 1px solid #ccc;
            max-height: 150px;
            overflow-y: auto;
        }

        #suggestions-container div {
            padding: 5px;
            cursor: pointer;
        }

        #suggestions-container div:hover {
            background-color: #f2f2f2;
        }
    </style>
</body>
</html>
