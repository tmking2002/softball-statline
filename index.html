<!DOCTYPE html>
<html>
    <head>
        <title>Softball Statline</title>
        <link rel="icon" type = image/png href="logo_small.png">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-teal.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
        
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-YFFKCYZJXV"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-YFFKCYZJXV');
        </script>
        
        <style>
            
            #table-container {
                max-width: 800px; 
                margin: 0 auto; 
            }

            table {
                width: 100%;
                border-collapse: collapse;
                table-layout: fixed; 
            }

            th,
            td {
                border: 1px solid #ccc;
                padding: 4px;
                text-align: center;
                width: calc(100% / 3);
            }

            th {
                background-color: #f2f2f2;
            }
        </style>
    </head>
    <body>
        <!-- Navbar -->
        <div class="w3-top">
          <div class="w3-bar w3-theme w3-top w3-left-align w3-large">
            <a href="players" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Players</a>
            <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Teams</a>
            <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Games</a>
            <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Leaders</a>
          </div>
        </div>

        <!-- Header -->
        <header class="w3-container w3-theme w3-padding" id="myHeader">
          <div class="w3-center">
              <img src="logo.png">
          </div>
        </header>

        <div class="w3-row-padding w3-center w3-margin-top">
        <div class="w3-third">
          <div class="w3-card w3-container" style="min-height:460px">
          <h3>Schedule</h3><br>
          <div class="w3-bar w3-theme">
              <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openSchedule(event,'D1-schedule')">D1</button>
              <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openSchedule(event,'D2-schedule')">D2</button>
              <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openSchedule(event,'D3-schedule')">D3</button>
            </div>

            <div id="D1-schedule" class="w3-container city w3-animate-opacity">
              <div id="schedule-container-d1"></div>
            </div>

            <div id="D2-schedule" class="w3-container city w3-animate-opacity">
              <div id="schedule-container-d2"></div>
            </div>

            <div id="D3-schedule" class="w3-container city w3-animate-opacity">
              <div id="schedule-container-d3"></div>
            </div>
          </div>
        </div>

        <div class="w3-third">
          <div class="w3-card w3-container" style="min-height:460px">
            <h3>Current RPI Rankings</h3><br>
            <div class="w3-bar w3-theme">
              <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openRPI(event,'D1-rpi')">D1</button>
              <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openRPI(event,'D2-rpi')">D2</button>
              <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openRPI(event,'D3-rpi')">D3</button>
            </div>

            <div id="D1-rpi" class="w3-container city w3-animate-opacity">
              <div id="rpi-container-d1"></div>
            </div>

            <div id="D2-rpi" class="w3-container city w3-animate-opacity">
              <div id="rpi-container-d2"></div>
            </div>

            <div id="D3-rpi" class="w3-container city w3-animate-opacity">
              <div id="rpi-container-d3"></div>
            </div>
          </div>
        </div>

        <div class="w3-third">
          <div class="w3-card w3-container" style="min-height:460px">
          <h3>Conference Standings</h3><br>
          <div id="conf-name" style="font-size: 20px; font-weight: bold"></div>
          <div class="w3-dropdown-hover">
            <button class="w3-button w3-padding-16">
               Select Conference<i class="fa fa-caret-down"></i>
            </button>
            <div class="w3-dropdown-content w3-card-4 w3-bar-block">
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'AAC')">AAC</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'ACC')">ACC</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'America East')">America East</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'ASUN')">ASUN</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Atlantic 10')">Atlantic 10</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Big 12')">Big 12</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Big East')">Big East</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Big Sky')">Big Sky</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Big South')">Big South</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Big Ten')">Big Ten</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Big West')">Big West</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'C-USA')">C-USA</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'CAA')">CAA</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Horizon')">Horizon</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Ivy League')">Ivy League</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'MAAC')">MAAC</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'MAC')">MAC</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'MEAC')">MEAC</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Mountain West')">Mountain West</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'MVC')">MVC</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'NEC')">NEC</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'OVC')">OVC</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Pac-12')">Pac-12</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Patriot')">Patriot</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'SEC')">SEC</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'SoCon')">SoCon</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Southland')">Southland</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Summit League')">Summit League</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'Sun Belt')">Sun Belt</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'SWAC')">SWAC</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'WAC')">WAC</button>
                <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openConf(event,'WCC')">WCC</button>
            </div>
          </div>
          <div id="conf-standings" class="w3-container city w3-animate-opacity">
              <div id="conf-table"></div>
          </div>
          </div>
        </div>

        <script>
            // Function to fetch CSV file and create the data table
            function createDataTable_d1() {
                fetch('rpi_rankings/d1_rpi.csv')
                    .then(response => response.text())
                    .then(data => {
                        const rows = data.split('\n');
                        const tableContainer = document.getElementById('rpi-container-d1');
                        const table = document.createElement('table');

                        // Create table header
                        const headerRow = document.createElement('tr');
                        const headers = rows[0].split(',');
                        headers.forEach(header => {
                            const th = document.createElement('th');
                            th.textContent = header;
                            headerRow.appendChild(th);
                        });
                        table.appendChild(headerRow);

                        // Create table rows
                        for (let i = 1; i < rows.length; i++) {
                            const row = document.createElement('tr');
                            const rowData = rows[i].split(',');
                            rowData.forEach(cellData => {
                                const cell = document.createElement('td');
                                cell.textContent = cellData;
                                row.appendChild(cell);
                            });
                            table.appendChild(row);
                        }

                        table.deleteRow(table.rows.length - 1) 
                    
                        // Add the table to the container
                        tableContainer.appendChild(table);
                    })
                
                fetch('schedule/d1_schedule.csv')
                    .then(response => response.text())
                    .then(data => {
                        const rows = data.split('\n');
                        const tableContainer = document.getElementById('schedule-container-d1');
                        const table = document.createElement('table');

                        // Create table header
                        const headerRow = document.createElement('tr');
                        const headers = rows[0].split(',');
                        headers.forEach(header => {
                            const th = document.createElement('th');
                            th.textContent = header;
                            headerRow.appendChild(th);
                        });
                        table.appendChild(headerRow);

                        // Create table rows
                        for (let i = 1; i < rows.length; i++) {
                            const row = document.createElement('tr');
                            const rowData = rows[i].split(',');

                            rowData.forEach((cellData, index) => {
                                const cell = document.createElement('td');
                                if (index === 0 | index === 2) { // Assuming the image URL is in the fourth column (index 3)
                                    const img = document.createElement('img');
                                    img.src = cellData;
                                    img.width = 50; // Set the desired width of the image
                                    img.height = 50; // Set the desired height of the image
                                    cell.appendChild(img);
                                } else {
                                    cell.textContent = cellData;
                                }
                                row.appendChild(cell);
                            });

                            table.appendChild(row);
                        }

                        table.deleteRow(table.rows.length - 1) 
                    
                        // Add the table to the container
                        tableContainer.appendChild(table);
                    })
                    .catch(error => console.error('Error fetching CSV:', error));
            }
            
            function createDataTable_d2() {
                fetch('rpi_rankings/d2_rpi.csv')
                    .then(response => response.text())
                    .then(data => {
                        const rows = data.split('\n');
                        const tableContainer = document.getElementById('rpi-container-d2');
                        const table = document.createElement('table');

                        // Create table header
                        const headerRow = document.createElement('tr');
                        const headers = rows[0].split(',');
                        headers.forEach(header => {
                            const th = document.createElement('th');
                            th.textContent = header;
                            headerRow.appendChild(th);
                        });
                        table.appendChild(headerRow);

                        // Create table rows
                        for (let i = 1; i < rows.length; i++) {
                            const row = document.createElement('tr');
                            const rowData = rows[i].split(',');
                            rowData.forEach(cellData => {
                                const cell = document.createElement('td');
                                cell.textContent = cellData;
                                row.appendChild(cell);
                            });
                            table.appendChild(row);
                        }

                        table.deleteRow(table.rows.length - 1) 
                    
                        // Add the table to the container
                        tableContainer.appendChild(table);
                    })
                
                fetch('schedule/d2_schedule.csv')
                    .then(response => response.text())
                    .then(data => {
                        const rows = data.split('\n');
                        const tableContainer = document.getElementById('schedule-container-d2');
                        const table = document.createElement('table');

                        // Create table header
                        const headerRow = document.createElement('tr');
                        const headers = rows[0].split(',');
                        headers.forEach(header => {
                            const th = document.createElement('th');
                            th.textContent = header;
                            headerRow.appendChild(th);
                        });
                        table.appendChild(headerRow);

                        // Create table rows
                        for (let i = 1; i < rows.length; i++) {
                            const row = document.createElement('tr');
                            const rowData = rows[i].split(',');

                            rowData.forEach((cellData, index) => {
                                const cell = document.createElement('td');
                                if (index === 0 | index === 2) { // Assuming the image URL is in the fourth column (index 3)
                                    const img = document.createElement('img');
                                    img.src = cellData;
                                    img.width = 50; // Set the desired width of the image
                                    img.height = 50; // Set the desired height of the image
                                    cell.appendChild(img);
                                } else {
                                    cell.textContent = cellData;
                                }
                                row.appendChild(cell);
                            });

                            table.appendChild(row);
                        }
                        
                        table.deleteRow(table.rows.length - 1)     
                    
                        // Add the table to the container
                        tableContainer.appendChild(table);
                    })
                    .catch(error => console.error('Error fetching CSV:', error));
            }
            
            function createDataTable_d3() {
                fetch('rpi_rankings/d3_rpi.csv')
                    .then(response => response.text())
                    .then(data => {
                        const rows = data.split('\n');
                        const tableContainer = document.getElementById('rpi-container-d3');
                        const table = document.createElement('table');

                        // Create table header
                        const headerRow = document.createElement('tr');
                        const headers = rows[0].split(',');
                        headers.forEach(header => {
                            const th = document.createElement('th');
                            th.textContent = header;
                            headerRow.appendChild(th);
                        });
                        table.appendChild(headerRow);

                        // Create table rows
                        for (let i = 1; i < rows.length; i++) {
                            const row = document.createElement('tr');
                            const rowData = rows[i].split(',');
                            rowData.forEach(cellData => {
                                const cell = document.createElement('td');
                                cell.textContent = cellData;
                                row.appendChild(cell);
                            });
                            table.appendChild(row);
                        }
                    
                        table.deleteRow(table.rows.length - 1) 

                        // Add the table to the container
                        tableContainer.appendChild(table);
                    })
                
                fetch('schedule/d3_schedule.csv')
                    .then(response => response.text())
                    .then(data => {
                        const rows = data.split('\n');
                        const tableContainer = document.getElementById('schedule-container-d3');
                        const table = document.createElement('table');

                        // Create table header
                        const headerRow = document.createElement('tr');
                        const headers = rows[0].split(',');
                        headers.forEach(header => {
                            const th = document.createElement('th');
                            th.textContent = header;
                            headerRow.appendChild(th);
                        });
                        table.appendChild(headerRow);

                        // Create table rows
                        for (let i = 1; i < rows.length; i++) {
                            const row = document.createElement('tr');
                            const rowData = rows[i].split(',');

                            rowData.forEach((cellData, index) => {
                                const cell = document.createElement('td');
                                if (index === 0 | index === 2) { // Assuming the image URL is in the fourth column (index 3)
                                    const img = document.createElement('img');
                                    img.src = cellData;
                                    img.width = 50; // Set the desired width of the image
                                    img.height = 50; // Set the desired height of the image
                                    cell.appendChild(img);
                                } else {
                                    cell.textContent = cellData;
                                }
                                row.appendChild(cell);
                            });

                            table.appendChild(row);
                        }

                        table.deleteRow(table.rows.length - 1)    
                    
                        // Add the table to the container
                        tableContainer.appendChild(table);
                    })
                    .catch(error => console.error('Error fetching CSV:', error));
            }

            // Call the function to create the data table
            createDataTable_d1();
            createDataTable_d2();
            createDataTable_d3();
            
            function openSchedule(evt, cityName) {
              var i;
              var x = document.querySelectorAll('[id$="-schedule"]');
              for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
              }
              var activebtn = document.getElementsByClassName("testbtn");
              for (i = 0; i < x.length; i++) {
                activebtn[i].className = activebtn[i].className.replace(" w3-dark-grey", "");
              }
              console.log(document.getElementById(cityName))
              document.getElementById(cityName).style.display = "block";
            }
            
            function openRPI(evt, cityName) {
              var i;
              var x = document.querySelectorAll('[id$="-rpi"]');
              for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
              }
              var activebtn = document.getElementsByClassName("testbtn");
              for (i = 0; i < x.length; i++) {
                activebtn[i].className = activebtn[i].className.replace(" w3-dark-grey", "");
              }
              document.getElementById(cityName).style.display = "block";
            }
            
            function openConf(evt, confName) {
              fetch(`conf_standings/${confName}.csv`)
                    .then(response => response.text())
                    .then(data => {
                        const rows = data.split('\n');
                        const tableContainer = document.getElementById('conf-standings');
                        const table = document.createElement('table');

                        // Create table header
                        const headerRow = document.createElement('tr');
                        const headers = rows[0].split(',');
                        headers.forEach(header => {
                            const th = document.createElement('th');
                            th.textContent = header;
                            headerRow.appendChild(th);
                        });
                        table.appendChild(headerRow);

                        // Create table rows
                        for (let i = 1; i < rows.length; i++) {
                            const row = document.createElement('tr');
                            const rowData = rows[i].split(',');
                            rowData.forEach(cellData => {
                                const cell = document.createElement('td');
                                cell.textContent = cellData;
                                row.appendChild(cell);
                            });
                            table.appendChild(row);
                        }
                  
                        tableContainer.innerHTML = '';

                        table.deleteRow(table.rows.length - 1) 
                    
                        // Add the table to the container
                        tableContainer.appendChild(table);
                  
                        const heading = document.getElementById('conf-name');
                        heading.textContent = confName;
                    })
            }
            
            openConf(event, 'SEC')
            openSchedule(event, 'D1-schedule')  
            openRPI(event, 'D1-rpi')  
        </script>

    </body>
</html>
